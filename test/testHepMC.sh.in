#! /bin/sh
# @configure_input@
# you can compare testHepMC.out to @srcdir@/testHepMC.dat
# and testHepMCExtended.out to @srcdir@/testHepMCExtended.dat,
# but the particles within a vertex are printed in "random" order

./testHepMC@EXEEXT@ \
 | @DIFF_Q@ - @srcdir@/testHepMC.output > /dev/null

OS=`uname`
case "$OS" in
CYGWIN*)
  #don't compare these on Windows (hopelessly different default output)
  ;;
Darwin*)
  # MacOSX fix
  sed 's/e-00/e+00/g'  @srcdir@/testHepMCParticle.output | \
	@DIFF_Q@ - testHepMCParticle.out
  ;;
*)
  @DIFF_Q@ testHepMCParticle.out @srcdir@/testHepMCParticle.output
esac

# perform the following comparisons by hand
# Particles within a vertex are not written in a defined order
# @DIFF_Q@ testHepMC.out @srcdir@/testHepMC.dat
# @DIFF_Q@ testHepMCExtended.out @srcdir@/testHepMCExtended.dat
